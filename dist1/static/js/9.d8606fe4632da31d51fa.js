webpackJsonp([9],{N1QJ:function(t,s,e){"use strict";(function(t){var i=e("bOdI"),l=e.n(i),a=e("mvHQ"),o=e.n(a);s.a={data:function(){return{hasRes:!0,pageError:"暂无查询数据~",list:[],searchKey:"",searchSort:"desc",colorStatus:"",size:"",pageno:1}},mounted:function(){this.size=this.$store.state.addStore.size.id,console.error(t(".add_size").html()),console.error(t(".add_size").attr("data-id"))},methods:{firstGet_color:function(t){this.colorStatus=t,this.pageno=1,this.list=[],this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit"),this.getList()},firstGet_size:function(t){this.size=t,this.pageno=1,this.list=[],this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit"),this.getList(),console.log(t)},firstGet_search:function(t){this.searchKey=t,this.pageno=1,this.list=[],this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit"),this.getList()},firstGet_sort:function(t){this.searchSort=t,this.pageno=1,this.list=[],this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit"),this.getList()},getList:function(){var t=this;console.log(t.$store.state.addStore.size.id);var s=new D.FYBusiness("PRODUCTIONSUMMARYLISTQRY"),e=s.addCreateService("PRODUCTIONSUMMARYLISTQRY",!1),i=e.addCreateData();i.setValue("AS_USER_ID",localStorage.loginname),i.setValue("AS_DEPT_ID",""),i.setValue("AS_FUNC_NAME","PRODUCTIONSUMMARYLISTQRY"),i.setValue("AS_CONDITION",t.searchKey),i.setValue("AS_STATUS",t.colorStatus),i.setValue("AS_SIZEGROUP",t.size),i.setValue("AS_SORT",t.searchSort),i.setValue("AS_OPRFLAG","2"),i.setValue("AN_PAGESIZE","20"),i.setValue("AN_PAGENO",t.pageno);var l=new D.InvokeProc;l.addBusiness(s),console.log(o()(l)),l.invoke(function(s){if("Y"==s.iswholeSuccess||"Y"==s.isAllBussSuccess){var i=e.getResult(s,"AC_RESULT").rows;console.log(i),0==i.length&&1==t.pageno?t.hasRes=!1:t.hasRes=!0,t.list=t.list.concat(i),t.$store.commit("upList","page2",i),t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.finishLoad"),i.length<20&&t.pageno>1&&t.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.loadedDone")}else console.log(s.errorMessage),t.ydui.alert({mes:s.errorMessage})})},loadList:function(){var t=this;console.error("执行了下拉刷新获取数据"),this.pageno=1,this.list=[],this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.reInit"),this.getList(),setTimeout(function(){t.$refs.pullrefreshDemo.$emit("ydui.pullrefresh.finishLoad")},1e3)},loadLists:function(){console.log("滚动加载了"),this.pageno++,this.getList()},goDetail:function(t,s,e,i,a,o){this.$router.push({path:"/addDtl",query:l()({id:t,footId:"1",orderno:s,dycsjscsj:e||"",jcsj:i||"",percentage:a||"0",zhsjscsj:o||""},"footId",1)})}}}}).call(s,e("7t+N"))},QGG8:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("N1QJ"),l={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"yd-flexview"},[e("div",{staticClass:"g-scrollview"},[e("addHeader",{on:{onFirstGet:t.firstGet_color}}),t._v(" "),e("addSearch",{attrs:{idx:2},on:{onFirstGetSort:t.firstGet_sort,onFirstGetSearch:t.firstGet_search,onFirstGet:t.firstGet_size}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"m-main os",staticStyle:{height:"-webkit-calc(100% - 176px)",top:"125px"}},[e("yd-pullrefresh",{ref:"pullrefreshDemo",attrs:{callback:t.loadList}},[e("yd-infinitescroll",{ref:"infinitescrollDemo",attrs:{callback:t.loadLists}},t._l(t.list,function(s,i){return e("yd-list",{key:i,attrs:{slot:"list",theme:"4"},slot:"list"},[t.hasRes?e("ul",{staticClass:"m-tab-dtl",attrs:{"data-id":s.id,"data-orderno":s.orderno,"data-dycsjscsj":s.dycsjscsj,"data-jcsj":s.jcsj,"data-percentage":s.percentage,"data-zhsjscsj":s.zhsjscsj},on:{click:function(e){t.goDetail(s.id,s.orderno,s.dycsjscsj,s.jcsj,s.percentage,s.zhsjscsj)}}},[e("li",{staticClass:"selflex adda"},[t._v(t._s(s.orderno))]),t._v(" "),e("li",{staticClass:"selflex adda",staticStyle:{color:"#3297fd"}},[e("u",[t._v(t._s(s.num_sumqry))])]),t._v(" "),e("li",{staticClass:"selflex adda"},[t._v(t._s(s.percentage))]),t._v(" "),e("li",{staticClass:"selflex adda"},[t._v(t._s(s.dycsjscsj))]),t._v(" "),e("li",{staticClass:"selflex adda"},[t._v(t._s(s.zhsjscsj))])]):t._e()])}))],1),t._v(" "),t.hasRes?t._e():e("pageError",{attrs:{msg:t.pageError}})],1)],1),t._v(" "),e("addFooter",{attrs:{idx:1}})],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"m-tab",staticStyle:{top:"88px"}},[e("li",[t._v("主订单号")]),t._v(" "),e("li",[t._v("总定量")]),t._v(" "),e("li",[t._v("百分比")]),t._v(" "),e("li",{staticStyle:{"line-height":"14px"}},[e("span",{staticStyle:{display:"block","padding-top":"4px"}},[t._v("第一次实际"),e("br"),t._v("生产时间")])]),t._v(" "),e("li",{staticStyle:{"line-height":"14px"}},[e("span",{staticStyle:{display:"block","padding-top":"4px"}},[t._v("最后实际"),e("br"),t._v("生产时间")])])])}]},a=e("VU/8")(i.a,l,!1,null,null,null);s.default=a.exports}});